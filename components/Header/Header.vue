
<template>
  <header ref="header" class="fixed top-0 left-0 w-full bg-transparent text-white z-50 flex justify-between items-center px-3 py-3 md:py-4 md:px-4 transition-all duration-500 ease-in-out">   
     <div class="text-left">
      <div class="logo">
      <svg xmlns="http://www.w3.org/2000/svg" width="642" height="247" viewBox="0 0 642 247" fill="none" class="w-24 h-10 py-1 ">
      <path d="M242.5 94L265.305 110.893C267.175 112.278 269.754 112.19 271.525 110.68L311.374 76.7036C313.77 74.6607 313.704 70.9381 311.237 68.9815L295.5 56.5L260 30.5L232.434 15.7326C232.145 15.5779 231.842 15.452 231.529 15.3566L197.5 5L177.471 0.603384C177.158 0.534621 176.839 0.496156 176.518 0.488523L156 0H136.368C136.123 0 135.878 0.018043 135.636 0.0539827L122.5 2L96.8581 8.90359C96.6197 8.96777 96.3864 9.04953 96.16 9.14819L77 17.5L57.447 28.2542C57.1498 28.4176 56.8699 28.6109 56.6119 28.8311L40 43L24.2475 60.2293C24.0827 60.4095 23.9314 60.6016 23.7947 60.8039L11.7892 78.572C11.5969 78.8566 11.4345 79.1602 11.3044 79.4781L2.78386 100.306C2.59567 100.766 2.47712 101.252 2.43213 101.747L0.0437891 128.018C0.0146643 128.339 0.0165259 128.661 0.049348 128.981L1.95571 147.568C1.98518 147.855 2.0395 148.14 2.11807 148.418L8.5 171L11.7404 179.796C11.9125 180.263 12.1534 180.701 12.455 181.097L20 191L27 198.5L34 206L40.7296 212.73C40.9096 212.91 41.1031 213.076 41.3083 213.226L48.5 218.5L61 226.5L74.6243 233.799C74.8743 233.933 75.1353 234.045 75.4043 234.135L88.5 238.5L103.5 242.5L112 244L122.036 245.912C122.345 245.97 122.658 246 122.972 246H159L174.077 244.541C174.358 244.514 174.637 244.463 174.91 244.388L180 243L191.5 240.5L203.5 236.5L224 229L246 217.5L265.5 204.5L284.5 191L309 170.5L328.5 153.5L357.5 128L381.5 108.5L401.5 93.5L416 85L433.136 75.6976C433.378 75.5661 433.631 75.4548 433.892 75.365L448 70.5L466.486 65.6353C466.828 65.5454 467.178 65.4919 467.531 65.4759L489 64.5L508.039 65.4763C508.346 65.4921 508.65 65.5361 508.949 65.6078L521 68.5L539.588 75.3483C539.862 75.4492 540.127 75.574 540.379 75.7211L551.488 82.2013C551.828 82.3997 552.144 82.6377 552.428 82.9102L563.619 93.6346C563.872 93.8775 564.099 94.1465 564.297 94.437L573.058 107.348C573.351 107.78 573.574 108.255 573.72 108.756L576.8 119.314C576.933 119.769 577 120.241 577 120.714V136.508C577 137.481 576.716 138.434 576.182 139.248L567.71 152.18C567.57 152.393 567.414 152.595 567.244 152.785L554.617 166.814C554.209 167.267 553.721 167.642 553.178 167.92L533.127 178.179C532.711 178.392 532.268 178.545 531.809 178.635L509.976 182.907C509.659 182.969 509.338 183 509.015 183H480.518C480.173 183 479.83 182.964 479.493 182.894L458.874 178.578C458.625 178.526 458.38 178.455 458.142 178.366L434.5 169.5L409.845 156.187C409.616 156.062 409.396 155.92 409.188 155.762L390.5 141.5L376.77 131.808C374.858 130.459 372.267 130.616 370.532 132.185L335.863 163.553C333.576 165.621 333.689 169.246 336.099 171.169L376 203L400.584 220.7C400.861 220.9 401.157 221.07 401.468 221.209L433.5 235.5L462.073 243.875C462.357 243.958 462.648 244.016 462.942 244.048L481 246L515.525 246.986C515.841 246.995 516.157 246.975 516.469 246.924L534.5 244L548.5 240.5L563 235.5L574.649 230.646C574.883 230.549 575.109 230.434 575.325 230.302L586.5 223.5L607.003 207.879C607.333 207.627 607.63 207.336 607.888 207.011L620.676 190.908C620.891 190.637 621.078 190.344 621.233 190.034L633.261 165.977C633.42 165.66 633.544 165.327 633.633 164.983L638.5 146L641.421 120.689C641.473 120.232 641.463 119.77 641.389 119.315L638.598 102.105C638.533 101.703 638.419 101.311 638.258 100.936L623.79 67.177C623.598 66.7281 623.341 66.3098 623.027 65.9355L608.252 48.3012C608.084 48.1007 607.901 47.9137 607.704 47.7419L592.5 34.5L576.5 23.5L554.378 12.1934C554.127 12.0647 553.864 11.9576 553.594 11.8732L530.46 4.64378C530.154 4.54815 529.84 4.48217 529.521 4.44677L507.5 2H475.5L461.96 2.96716C461.654 2.98901 461.351 3.03895 461.054 3.11636L427.358 11.9066C427.12 11.9688 426.886 12.0485 426.66 12.1451L396.843 24.8539C396.615 24.9512 396.394 25.0653 396.183 25.1952L370.5 41L360 49.5L339 65.5L308.5 94L269.5 128L252.5 141L234.795 154.279C234.598 154.426 234.392 154.559 234.176 154.675L210.5 167.5L185.5 177L169 181.5L151.979 183.932C151.661 183.977 151.338 183.992 151.016 183.975L132 183L113.671 181.071C113.226 181.024 112.789 180.917 112.372 180.754L101.891 176.653C101.631 176.551 101.38 176.428 101.14 176.284L91.5 170.5L81 162L73.3964 153.921C73.133 153.641 72.9028 153.332 72.7102 152.999L67.9138 144.715C67.6398 144.241 67.4453 143.726 67.338 143.19L65.5 134L64.1011 118.612C64.0345 117.88 64.1303 117.142 64.3816 116.451L67.8238 106.985C67.9409 106.662 68.091 106.353 68.2714 106.062L74.1945 96.4934C74.3975 96.1656 74.6377 95.8623 74.9103 95.5897L84.5 86L94.4728 78.4016C94.8228 78.135 95.2063 77.9158 95.6136 77.7496L118.876 68.2548C119.29 68.0857 119.725 67.973 120.169 67.9197L144.5 65H171.384C171.793 65 172.201 65.0501 172.597 65.1493L194 70.5L217.5 80L242.5 94Z" fill="#D9D9D9"/>
      </svg>
    </div>
    </div>
    <!-- Hamburger Menu -->
    <div class="relative" @click="toggleMenu" :class="{ 'z-40': menuOpen }">
      <div ref="iconContainer">
        <svg ref="icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="#E1E1E1" class="w-10 h-10 cursor-pointer">
          <!-- Lines for hamburger -->
          <path ref="line1" stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5" />
          <path ref="line2" stroke-linecap="round" stroke-linejoin="round" d="M3.75 12h16.5" />
          <path ref="line3" stroke-linecap="round" stroke-linejoin="round" d="M3.75 17.25h16.5" />
        </svg>
      </div>
    </div>
    <!-- Slide-in Menu -->
    <div ref="menu" class="fixed top-0 right-0 w-64 h-screen bg-[#E1E1E1]  text-[#646464] p-4 transform" :class="{ 'translate-x-full': !menuOpen }">
      <ul class="flex flex-col items-center justify-center h-full space-y-8 text-2xl">
          <li><a href="#home" class="hover:text-blue-600">Home</a></li>
          <li><a href="#about" class="hover:text-blue-600">About</a></li>
          <li><a href="#faq" class="hover:text-blue-600">Services</a></li>
          <li><a href="#footer" class="hover:text-blue-600">Contact</a></li>
      </ul>
    </div>
  </header>
</template>

<script>
import { gsap } from 'gsap';

export default {
  data() {
    return {
      menuOpen: false,
      menuTimeline: null,
    };
  },
  mounted() {
    gsap.set(this.$refs.menu, { x: '100%' });
    this.menuTimeline = gsap.timeline({ paused: true })
      .to(this.$refs.menu, { x: '0%', duration: 0.7, ease: 'power2.out' });

    // Add event listener for scroll
    window.addEventListener('scroll', this.handleScroll);
  },
  beforeDestroy() {
    window.removeEventListener('scroll', this.handleScroll);
  },
  watch: {
    menuOpen(newValue) {
      this.animateIcon(newValue);
      if (newValue) {
        this.menuTimeline.play();
      } else {
        this.menuTimeline.reverse();
      }
    },
  },
  methods: {
    toggleMenu() {
      this.menuOpen = !this.menuOpen;
    },
    animateIcon(open) {
      if (open) {
        gsap.to(this.$refs.line1, {attr: {d: 'M6 18L18 6'}, duration: 0.3});
        gsap.to(this.$refs.line2, {opacity: 0, duration: 0.2});
        gsap.to(this.$refs.line3, {attr: {d: 'M6 6l12 12'}, duration: 0.3});
      } else {
        gsap.to(this.$refs.line1, {attr: {d: 'M3.75 6.75h16.5'}, duration: 0.3});
        gsap.to(this.$refs.line2, {opacity: 1, duration: 0.2});
        gsap.to(this.$refs.line3, {attr: {d: 'M3.75 17.25h16.5'}, duration: 0.3});
      }
    },
    handleScroll() {
      if (window.scrollY > 30) {
        this.$refs.header.classList.add('scrolled');
      } else {
        this.$refs.header.classList.remove('scrolled');
      }
    }
  },
};
</script>

<style scoped>
.scrolled {
  background: rgba(255, 255, 255, 0.7);
  box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.30);
  backdrop-filter: blur(20.5px);
  -webkit-backdrop-filter: blur(20.5px);
  border-radius: 0px;
}
</style>
